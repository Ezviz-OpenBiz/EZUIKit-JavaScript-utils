/*
*
* @ezuikit/utils-tools v1.0.2
* Copyright (c) 2024-5-22 Ezviz-OpenBiz
* Released under MIT the License.
*
*/
var e=function(e){var n=e.split("?")[1],t={};if(n)for(var r=n.split("&"),i=0;i<r.length;i++){var o=r[i].split("=");t[o[0]]=decodeURIComponent(o[1])}return t};function n(n){var t={};if(/^ezopen:\/\//.test(n)){if(n.includes("@")){var r=n.indexOf("@"),i=n.indexOf("//");t.validateCode=n.substring(i+2,r),n=n.replace(t.validateCode+"@","")}t.protocol=n.split("//")[0],t.search=n.split("?")[1]?"?"+n.split("?")[1]:"",t.hostname=n.split("/")[2],t.origin=t.protocol+"//"+t.hostname,t.pathname=n.split("?")[0].replace(t.origin,""),t.href=n;var o=t.pathname.split("/"),a=o[2].split(".");return t.deviceSerial=o[1],t.channelNo=a[0],t.type=a[a.length-1],"live"===t.type&&(t.definition=a.length>2?a[1]:"sd"),"rec"===t.type&&(t.recType=a.length>2?a[1]:""),t.searchParams=e(n),t}return{}}function t(t,r){var i=null!=r?r:{},o=i.type,a=i.recType,l=i.search,c=i.definition,s=i.channelNo,p=i.deviceSerial,d=i.validateCode,u=n(t);if(l){var v=Object.assign({},u.searchParams,e("?"+l.replace("?","")));l=Object.entries(v).reduce((function(e,n){var t=n[0],r=n[1];return""===r?e:e+=t+"="+encodeURIComponent(r)+"&"}),"?").replace(/&$/,"")}else l=u.search;return o=o||u.type,a=null!=a?a:u.recType,c=null!=c?c:u.definition,s=s||u.channelNo,p=p||u.deviceSerial,d=null!=d?d:u.validateCode,u.protocol+"//"+(d?d+"@":"")+u.hostname+"/"+p+"/"+s+("rec"===o&&a?"."+a:"")+("live"===o&&"hd"===c?"."+c:"")+"."+o+l}function r(e){return/^http[s]?:\/\//.test(e)}function i(e){var n,t;return!!((null!=e?e:null==(t=window)||null==(n=t.navigator)?void 0:n.userAgent)||"").match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}function o(e,n){return Object.entries(e).reduce((function(e,t){var r=t[0],i=t[1];return n.includes(r)&&(e[r]=i),e}),{})}function a(e,n){void 0===n&&(n="");var t=/^(https?:\/\/|^\/\/)/;return t.test(e)?e:(e=e.replace(/\/+/g,"/"),n=t.test(n||"")?n:window.location.href,new URL(e,n).href)}var l={h264:1,h265:2,h266:4,vp8:8,vp9:16,av1:32};function c(e,n){void 0===n&&(n=["h264"]);var t=(n||["h264"]).reduce((function(e,n){return n=n.toLowerCase(),e+(l[n]||0)}),0),r=e.split("?")[0],i=e.split("?")[1];return i=(i||"").split("&").filter((function(e){return!/^vc=\d?/.test(e)})).join("&"),r+"?"+(i+=(i?"&":"")+"vc="+t)}export{c as addVc,e as getQuery,a as getStaticPath,r as isHttp,i as isMobile,n as parseEzopenUrl,o as pick,t as switchEzopenUrl};
