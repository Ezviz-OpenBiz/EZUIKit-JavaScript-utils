/*
*
* @ezuikit/utils-logger v1.0.1-alpha.0
* Copyright (c) 2024-5-22 Ezviz-OpenBiz
* Released under MIT the License.
*
*/
"use strict";var t={info:"",log:"background: #4096ff; color: #FFF;",warn:"background: yellow; color: #FFF;",error:"background: red; color: #FFF;"},o=function(){function o(t){void 0===t&&(t={}),this._options={level:"INFO",showTime:!1},this._levelNum=3,this.info=this._loggerFactory("info",this._levelNum>=3),this.log=this._loggerFactory("log",this._levelNum>=2),this.warn=this._loggerFactory("warn",this._levelNum>=1),this.error=this._loggerFactory("error",this._levelNum>=0),this.setOptions(t)}var e=o.prototype;return e.setOptions=function(t){var o;this._options=Object.assign({},this._options,t),this._levelNum=this._matchLevel(null!=(o=this._options.level)?o:"INFO"),this.info=this._loggerFactory("info",this._levelNum>=3),this.log=this._loggerFactory("log",this._levelNum>=2),this.warn=this._loggerFactory("warn",this._levelNum>=1),this.error=this._loggerFactory("error",this._levelNum>=0)},e._matchLevel=function(t){var o=3;switch(t){case"INFO":o=3;break;case"LOG":o=2;break;case"WARN":o=1;break;case"ERROR":o=0}return o},e._loggerFactory=function(e,r){var n=console[e];if(r&&n){var i,s=this._options.name?"%c["+this._options.name+"]%c %c["+e.toUpperCase()+"]":"%c["+e.toUpperCase()+"]",l=[this._options.name?"background: green;color: #fff":null,this._options.name?"":null,t[e]].filter((function(t){return null!=t}));return(i=n).bind.apply(i,[].concat([console,s],l))}return o.noop},e.getOptions=function(){return this._options},e.getVersion=function(){return"1.0.1-alpha.0"},o}();function e(t){return(t=+t)<10&&(t="0"+t),t+""}o.noop=function(){};var r=["info","log","warn","error"];module.exports=function(t){var n=new o(t);return new Proxy(n,{get:function(t,o){if(r.includes(o)){var n;if(null==(n=t._options)?void 0:n.showTime){var i=(s=new Date(Date.now()),l=s.getFullYear(),a=s.getMonth()+1,c=s.getDate(),u=s.getHours(),h=s.getMinutes(),g=s.getSeconds(),_=s.getMilliseconds(),l+"/"+e(a)+"/"+e(c)+" "+e(u)+":"+e(h)+":"+e(g)+":"+_);return t[o].bind(console,"["+i+"]")}return t[o].bind(console)}var s,l,a,c,u,h,g,_;return Reflect.get(t,o)}})};
